<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta property="og:image" content="Art/isopod/sword.png" />
	<meta name="description" content=".*✩⚬° auto - git °⚬✩*." />
	<title>*auto-git exp 3.2*</title>
	<style>
	body{
		padding: 1rem;
		margin: 0 auto;
		max-width: 640px;
		background: teal;
        font-family: "Courier New", Times, serif;}
	a {
		color: red;}
	p span{
		position:relative;
		display:inline-block;
		text-align: center;}
    .round3 {
        border: 3px solid #315686;
        border-radius: 12px;
        padding: 5px;
        background: #919ec2;}
    .round4 {
        border: 3px solid #95acca;
        border-radius: 12px;
        padding: 5px;
        background: #e0e3ec;}
	.row {
  		display: flex;
  		flex-wrap: wrap;
  		padding: 0 2px;}

/* Create two equal columns that sits next to each other */
	.column img {
  		vertical-align: middle;}
    table {
        text-align: center;}
* {
  box-sizing: border-box;}

	.column{
		float: left;
    	text-align: center;
		width: 50%;
		padding: 1px;}
	.row::after {
  		content: "";
  		clear: both;
  		display: table;}
	</style>
</head>

<body>
    <h1><img src="Art/Home/comp worm.gif" style="width:100%" /></h1>
<p><a href="index.html">Return Home</a></p>
<br>
<br>
<br>
<div style="border: 6px solid #95acca; border-radius: 12px; padding: 4px; background: #2a50c3;"><p style="text-align: center; color:rgb(239, 220, 53)"><strong>CURRENT SPACE WEATHER<br>--- CONDITIONS ---</strong><br><small>ALERTS | WATCHES | WARNINGS</small><br>------------------------------------------<br><br><br><small>.|| Automated git push + NOAA scraper v3.2 ||.</small><br><small>This script has ran</small></p><p style="text-align: center; color:#e3f7bc">
<strong>8
</strong></p><p style="text-align: center; color:rgb(239, 220, 53)"><small>times since it began on 14/10/25</small></div><br>
<div class="round3">
<p style="text-align: center; color: #f9f9f9; background-color: #315686;">Mon Oct 20 05:33:03 PM MDT 2025<br>----------------------------------------------</p><small><p>Code: ALTK05</p><p>Issue Time: 2025 Oct 19 0050 UTC</p></small><p style="color:rgb(82, 83, 34)">ALERT: Geomagnetic K-index of 5</p>
<small><p>Potential Impacts: Area of impact primarily poleward of 60 degrees Geomagnetic Latitude.</p>
<p></p></small>
</div><br>
<div class="round3">
<p style="text-align: center; color: #f9f9f9; background-color: #315686;">Mon Oct 20 05:33:00 PM MDT 2025<br>----------------------------------------------</p><small><p>Code: ALTK05</p><p>Issue Time: 2025 Oct 19 0050 UTC</p></small><p style="color:rgb(82, 83, 34)">ALERT: Geomagnetic K-index of 5</p>
<small><p>Potential Impacts: Area of impact primarily poleward of 60 degrees Geomagnetic Latitude.</p>
<p></p></small>
</div><br>
<div class="round3">
<p style="text-align: center; color: #f9f9f9; background-color: #315686;">Sun Oct 19 01:14:01 PM MDT 2025<br>----------------------------------------------</p><small><p>Code: ALTK05</p><p>Issue Time: 2025 Oct 19 0050 UTC</p></small><p style="color:rgb(82, 83, 34)">ALERT: Geomagnetic K-index of 5</p>
<small><p>Potential Impacts: Area of impact primarily poleward of 60 degrees Geomagnetic Latitude.</p>
<p></p></small>
</div><br>
<div class="round3">
<p style="text-align: center; color: #f9f9f9; background-color: #315686;">Sat Oct 18 11:26:00 AM MDT 2025<br>----------------------------------------------</p><small><p>Code: ALTK05</p><p>Issue Time: 2025 Oct 18 0836 UTC</p></small><p style="color:rgb(82, 83, 34)">ALERT: Geomagnetic K-index of 5</p>
<small><p>Potential Impacts: Area of impact primarily poleward of 60 degrees Geomagnetic Latitude.</p>
<p></p></small>
</div><br>
<div class="round3">
<p style="text-align: center; color: #f9f9f9; background-color: #315686;">Fri Oct 17 01:12:01 PM MDT 2025<br>----------------------------------------------</p><small><p>Code: WARK04</p><p>Issue Time: 2025 Oct 17 1756 UTC</p></small><p style="color:rgb(82, 83, 34)">EXTENDED WARNING: Geomagnetic K-index of 4 expected</p>
<small><p>Potential Impacts: Area of impact primarily poleward of 65 degrees Geomagnetic Latitude.</p>
<p></p></small>
</div><br>
<div class="round3">
<p style="text-align: center; color: #f9f9f9; background-color: #315686;">Thu Oct 16 01:11:01 PM MDT 2025<br>----------------------------------------------</p><small><p>Code: ALTEF3</p><p>Issue Time: 2025 Oct 16 0930 UTC</p></small><p style="color:rgb(82, 83, 34)">CONTINUED ALERT: Electron 2MeV Integral Flux exceeded 1000pfu</p>
<small><p>Potential Impacts: Satellite systems may experience significant charging resulting in increased risk to satellite systems."</p>
<p></p></small>
</div><br>
<div class="round3">
<p style="text-align: center; color: #f9f9f9; background-color: #315686;">Wed Oct 15 01:10:03 PM MDT 2025<br>----------------------------------------------</p><small><p>Code: SUM10R</p><p>Issue Time: 2025 Oct 15 1615 UTC</p></small><p style="color:rgb(82, 83, 34)">SUMMARY: 10cm Radio Burst</p>
<small><p></p>
<p></p></small>
</div><br>

<!-- wormSite.sh in /etc/cron.daily depends on lines above not changing [line 65 add new text/line 90-93 delete old] -->
<div style="border: 6px solid #95acca; border-radius: 12px; padding: 4px; background: #2a50c3;"><p style="text-align: center; color:rgb(239, 220, 53)"><strong>--END OF TRANSMISSION--</strong></p></div>
<br><br>
<div class="round4">
    <p><strong>ABOUT: </strong></p>
    <p>This experiment was to try to auto-update my website using a bash script to edit my .html file<br><br>First the script curls and parses the json from this <a href="https://www.swpc.noaa.gov/products/alerts-watches-and-warnings">NOAA site</a> that has public alerts/warnings on space weather conditions. Then it filters for only the first message/alert.</p>
</div>
<div class="round4">
	<img src="Art/bashExp/spacejson.png" style="width:100%" />
</div>
<div class="round4">
	<p>This is a big chunk of data, so first step is making it usable and pulling out the peices I want. I do this by first replacing the ansi escape sequence codes "\r\n" with a single character "%". This allows me to use IFS (Internal Field Sperator) command to turn every string between two % into an an index in an array.</p>
</div>
<div class="round4">
	<img src="Art/bashExp/wormSiteArray.png" style="width:100%" />
</div>
<div class="round4">
	<p>Now I can pull the code/issue date/and alert message cleanly out, since these strings are always on the same index.<br><br>Some messages however, come with either a "Potential Impact:" or a "Description:" depending on the type of alert. So next I have a while loop that goes through the array and if the first word starts with "potential" or "description" it will store that index into a variable</p>
</div>
<div class="round4">
	<p>That was the hard part. Next is simply insterting these variables into a chunk of formatted html, appending them to my.html file and deleting the last chunk, so as to only have 7 days worth of data.<br><br>
	the formatted html looks something like this<br><br>&lt;div&gt;<br>&lt;p&gt;${script-time/code/issue-time/alert/}&lt;/p&gt;<br>&lt;p&gt;${potential-impacts}&lt;/p&gt;<br>&lt;p&gt;${description}&lt;/p&gt;<br>&lt;/div&gt;</p>
	<p>If my potential-impact/description variables have no value then it leaves it blank between &lt;p&gt;&lt;/p&gt; which works perfectly as it doesn't affect how the html is rendered by web browsers. Importantly the number of html lines remains the same weather there was a value or not. Meaning the html chunks will always be 5 lines, regardless of the data. So it won't get messed around when the script deletes the last chunk</p>
</div>
<div class="round4">
	<p>Next is pulling the line of html of the counter for the number of times the script has ran. My script takes the number, adds 1, then replaces it in the .html document.<br><br>Finally my script changes directories to my websites repo, and then git add/commit/pushes the new file to the remote. Done like dinner</p>
</div>
<div class="round4">
    <img src="Art/bashExp/spacegit.png" style="width:100%" />
</div>
<div class="round4">
	<p>This took some fiddling to properly automate. Trying to run from cron.daily would try running it as root, so I'd get git permission errors when trying to git push. The solution was to specify at the start of the bash script to check if its running as root. If true (which it always will be) then run the command to switch to my username. Since it will always be the case you dont need any "else" function. ezpz
</div>


<p><a href="index.html">Return Home</a></p>
 </body>
</html>